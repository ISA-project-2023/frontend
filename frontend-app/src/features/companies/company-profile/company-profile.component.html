<div id="companyProfile">
    <h1>Company profile</h1>

    <table *ngIf="canShow">
        <tr>
            <td>Name</td>
            <td>{{company?.name}}</td>
        </tr>
        <tr>
            <td>Location</td>
            <td>{{company?.location}}</td>
        </tr>
        <tr>
            <td>Grade</td>
            <td>{{company?.grade}}</td>
        </tr>
        <tr>
            <td>Working hours</td>
            <td>{{company?.startTime}} - {{company?.endTime}}</td>
        </tr>
    </table>

    <h2>Equipment in stock</h2>
    <table>
        <tr>
            <th>Name</th>
            <th>Description</th>
        </tr>
        <tr *ngFor="let e of equipment">
            <td>{{e.name}}</td>
            <td>{{e.description}}</td>
        </tr>
    </table>

    <h2>Company administrators</h2>
    <table>
        <tr>
            <th>Company</th>
            <th>Admin Id</th>
            <th>Administrator</th>
            <th>Email</th>
            <th>Job Description</th>
        </tr>
        <tr *ngFor="let ca of admins">
            <td>{{ca.company.name}}</td>
            <td>{{ca.id}}</td>
            <td>{{ca.firstName}} {{ca.lastName}}</td> 
            <td>{{ca.email}}</td> 
            <td>{{ca.jobDescription}}</td>
        </tr>
    </table>

    <h2>PickUp Appointments</h2>
    <table>
        <tr>
            <th>Administrator</th>
            <th>Starts at</th>
            <th>Duration (in hours)</th>
        </tr>
        <tr *ngFor="let a of appointments">
            <!-- TODO - companyAdmin full name insted of id -->
            <!-- <td>{{a.companyAdmin.user?.firstName }} {{a.companyAdmin.user?.lastName }} </td> -->
            <td>{{ a.companyAdmin.id }} </td>
            <!-- TODO - format date  -->
            <!-- <td>{{ a.date | date: 'dd.MM.yyyy HH:mm' }}</td>  -->
            <!-- <td>{{ a.date | date: "dd.MM.yyyy HH:mm"}}</td>  -->
            <td>{{ a.date }}</td> 
            <td>{{ a.duration }}</td> 
        </tr>
    </table>

    <button *ngIf="!shouldEdit" type="submit" (click)="editCompany()">
        Edit profile
    </button>

    <div>
        <xp-company-profile-form *ngIf="shouldRenderEditForm" [shouldEdit]="shouldEdit"
        [company]="company" (companyProfileUpdated)="onCompanyUpdated()"></xp-company-profile-form>
    </div>

</div>
